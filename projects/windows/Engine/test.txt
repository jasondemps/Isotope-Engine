Todo: Write a logger instead of outputting everything to the screen.